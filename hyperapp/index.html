<html>
    <head>
        <meta charset="UTF-8">
        <title>HyperApp</title>
        <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    </head>
    <body><main id=app></main></body>
    <style>
        @import "hyperapp://./water.min.css";
        body { ont-size: 1.5em; }
        section { display: flex; }
    </style>

    <script type="module">
        import { h, text, app } from "hyperapp://./hyperapp.js"

        const AddTodo = (state) => ({
          ...state,
          value: "",
          todos: state.todos.concat(state.value)
        })

        const NewValue = (state, event) => ({
          ...state,
          value: event.target.value,
        })

        app({
          init: { todos: ["Learn Hyperapp"], value: "" },
          view: ({ todos, value }) =>
            h("main", {}, [
              h("h1", {}, text("To-do list ✏️")),
              h("ul", {},
                todos.map((todo) => h("li", {}, text(todo)))
              ),
              h("section", {}, [
                h("input", { type: "text", oninput: NewValue, value }),
                h("button", { onclick: AddTodo }, text("Add new")),
              ])
            ]),
          node: document.getElementById("app"),
        })
    </script>
</html>
